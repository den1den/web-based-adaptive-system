<?xml version="1.0" encoding="UTF-8"?>
<gale:repo xmlns="http://www.w3.org/TR/xhtml1/strict"
xmlns:gale="http://gale.tue.nl/adaptation">

<gale:text tag="short" flat="true" type="creole">the Conceptual Adaptation Model (CAM) as
used in the [[gat|GRAPPLE Authoring Tools]]</gale:text>

<gale:text tag="default;long" type="creole">The Conceptual Adaptation Model (CAM)
[[../references?tags=Hend08|[Hend08~]]] can refer to the last step in using the
[[gat|GRAPPLE Authoring Tools]] when creating a new course. In the CAM, concepts found in
the domain models are used in sockets of Pedagogical Relationship Types (PRTs or CRTs).

The CAM may also refer to the .cam XML format that is exported when a course is deployed
to [[../gale|GALE]]. The XML format contains all domain models and CRT definitions used in
the course model, as well as the course model itself.</gale:text>

<gale:text tag="default" type="creole">A .cam XML file can be split in four sections:
* a header
* the CRTs used in the course model
* the domain models used in the course model
* the course model

A skeletal version of a .cam file would look like this:

{{{
&lt;model>
  &lt;header> ... &lt;/header>
  &lt;body>
    &lt;cam>
      &lt;camInternal>
        &lt;crt type="crt"> ... &lt;/crt>
        &lt;crt type="crt"> ... &lt;/crt>
        &lt;crtModel> ... &lt;/crtModel>
        &lt;domainModel> ... &lt;/domainModel>
      &lt;/camInternal>
    &lt;/cam>
  &lt;/body>
&lt;/model>
}}}

The domain model is described using [[=http://www.imsglobal.org/vdex/|IMS VDEX]]. This
format is not very well suited for describing our domain model, but one of the goals in
GRAPPLE was to use as many existing standards as possible. The parts that don't fit in IMS
VDEX fit in the LOM standard, so that is used as well. Terms in the DM are identified
using a GUID generated by the authoring tool. These GUIDs are used in the course model
(the various &lt;crt> sections in the .cam file) to link the contents of a socket to an
instantiated CRT. The &lt;crtModel> contains the definition of every CRT used in the
course model. This is the definition of the 'prerequisite' CRT:

{{{
&lt;crt>
  &lt;comment/>
  &lt;crtdialect>CRT&lt;/crtdialect>
  &lt;parameter name="level" type="float">80&lt;/parameter>
  &lt;visualrepresentation>
    &lt;colour>#000000&lt;/colour>
    &lt;shape>diamond&lt;/shape>
  &lt;/visualrepresentation>
  &lt;adaptationbehaviour>
    &lt;code type="gale">&lt;![CDATA[
      %target% {
        #suitability:Boolean &amp;='(${%source%#knowledge}>%level%)'
        #[knowledge]:Float
      }
    ]]&gt;&lt;/code>
    &lt;usermodel/>
  &lt;/adaptationbehaviour>
  &lt;constraints>
    &lt;loopsallowed>false&lt;/loopsallowed>
    &lt;attributeconstraints/>
    &lt;umvariableconstraints/>
  &lt;/constraints>
  &lt;crtsockets>
    &lt;socket type="source">
      &lt;uuid>ac7024e6-6171-a051-648a-123d5293f4ad&lt;/uuid>
      &lt;name>source&lt;/name>
      &lt;mincardinality>1&lt;/mincardinality>
      &lt;maxcardinality>*&lt;/maxcardinality>
    &lt;/socket>
    &lt;socket type="target">
      &lt;uuid>373727e1-82b0-8a6b-5b09-123d529304dd&lt;/uuid>
      &lt;name>target&lt;/name>
      &lt;mincardinality>1&lt;/mincardinality>
      &lt;maxcardinality>*&lt;/maxcardinality>
    &lt;/socket>
  &lt;/crtsockets>
  &lt;associateddmrelations/>
&lt;/crt>
}}}

A CRT can define multiple named sockets and named parameters. These are used in the
[[../gale/gam/external-tools|template GAM code]] using the %...% notation. When the CRT
is instantiated (the &lt;crt> elements in the skeletal overview), The GAM code is
instantiated, replacing the %...% parameters with the actual values. This is done by the
[[cam-compiler|CAM to GALE compiler]] that runs when the .cam file is deployed to
GALE.</gale:text>

</gale:repo>